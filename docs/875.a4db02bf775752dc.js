"use strict";(self.webpackChunkcafe_tea=self.webpackChunkcafe_tea||[]).push([[875],{7875:(w,f,s)=>{s.r(f),s.d(f,{OrderModule:()=>Q});var m=s(6895),d=s(646),i=s(433),u=s(8256),v=s(773);let h=(()=>{class e{onInputChange(t){const n=t.target;n.value=n.value.replace(/[^A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u04510-9\s\-\/]/g,"")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","isAddress",""]],hostBindings:function(t,n){1&t&&u.NdJ("input",function(l){return n.onInputChange(l)})}}),e})(),Z=(()=>{class e{onInputChange(t){const n=t.target;let o=n.value;o=o.replace(/(?!^\+)\D/g,""),o.startsWith("+")||(o=o.replace(/^\+/,""));const l=o.replace(/\D/g,"");l.length>11&&(o=o.slice(0,o.length-(l.length-11))),n.value=o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","isNumber",""]],hostBindings:function(t,n){1&t&&u.NdJ("input",function(l){return n.onInputChange(l)})}}),e})(),y=(()=>{class e{onInputChange(t){const n=t.target;n.value=n.value.replace(/[^A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451]/g,"")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","isString",""]],hostBindings:function(t,n){1&t&&u.NdJ("input",function(l){return n.onInputChange(l)})}}),e})();function T(e,r){1&e&&(u.TgZ(0,"h2",9),u._uU(1,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA())}function C(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1,"\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),u.qZA())}function x(e,r){if(1&e&&(u.TgZ(0,"div",36),u.YNc(1,C,2,0,"span",37),u.qZA()),2&e){const t=u.oxw(2);let n;u.xp6(1),u.Q6J("ngIf",null==(n=t.formType.get("name"))||null==n.errors?null:n.errors.required)}}function A(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),u.qZA())}function D(e,r){if(1&e&&(u.TgZ(0,"div",36),u.YNc(1,A,2,0,"span",37),u.qZA()),2&e){const t=u.oxw(2);let n;u.xp6(1),u.Q6J("ngIf",null==(n=t.formType.get("last_name"))||null==n.errors?null:n.errors.required)}}function I(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1,"\u041d\u043e\u043c\u0435\u0440 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),u.qZA())}function b(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 11 \u0446\u0438\u0444\u0440"),u.qZA())}function F(e,r){if(1&e&&(u.TgZ(0,"div",36),u.YNc(1,I,2,0,"span",37),u.YNc(2,b,2,0,"span",37),u.qZA()),2&e){const t=u.oxw(2);let n,o;u.xp6(1),u.Q6J("ngIf",null==(n=t.formType.get("phone"))||null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",null==(o=t.formType.get("phone"))||null==o.errors?null:o.errors.minlength)}}function B(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),u.qZA())}function q(e,r){if(1&e&&(u.TgZ(0,"div",36),u.YNc(1,B,2,0,"span",37),u.qZA()),2&e){const t=u.oxw(2);let n;u.xp6(1),u.Q6J("ngIf",null==(n=t.formType.get("country"))||null==n.errors?null:n.errors.required)}}function N(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1,"\u0418\u043d\u0434\u0435\u043a\u0441 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),u.qZA())}function O(e,r){if(1&e&&(u.TgZ(0,"div",36),u.YNc(1,N,2,0,"span",37),u.qZA()),2&e){const t=u.oxw(2);let n;u.xp6(1),u.Q6J("ngIf",null==(n=t.formType.get("zip"))||null==n.errors?null:n.errors.required)}}function E(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),u.qZA())}function U(e,r){if(1&e&&(u.TgZ(0,"div",36),u.YNc(1,E,2,0,"span",37),u.qZA()),2&e){const t=u.oxw(2);let n;u.xp6(1),u.Q6J("ngIf",null==(n=t.formType.get("address"))||null==n.errors?null:n.errors.required)}}const _=function(e){return{display:e}};function J(e,r){if(1&e){const t=u.EpF();u.TgZ(0,"form",10)(1,"div",11)(2,"div",12)(3,"label",13),u._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0422\u043e\u0432\u0430\u0440\u0430"),u.qZA(),u._UZ(5,"input",14),u.qZA(),u.TgZ(6,"div",15)(7,"label",16),u._uU(8,"\u0418\u043c\u044f"),u.qZA(),u._UZ(9,"input",17),u.YNc(10,x,2,1,"div",18),u.qZA(),u.TgZ(11,"div",15)(12,"label",19),u._uU(13,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(14,"input",20),u.YNc(15,D,2,1,"div",18),u.qZA(),u.TgZ(16,"div",15)(17,"label",21),u._uU(18,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(19,"input",22),u.YNc(20,F,3,2,"div",18),u.qZA()(),u.TgZ(21,"div",11)(22,"div",23)(23,"label",24),u._uU(24,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(25,"input",25),u.YNc(26,q,2,1,"div",18),u.qZA(),u.TgZ(27,"div",23)(28,"label",26),u._uU(29,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(30,"input",27),u.YNc(31,O,2,1,"div",18),u.qZA()(),u.TgZ(32,"div",28)(33,"label",29),u._uU(34,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(35,"input",30),u.YNc(36,U,2,1,"div",18),u.qZA(),u._UZ(37,"textarea",31),u.TgZ(38,"div",32)(39,"button",33),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.createOrder())}),u._uU(40,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.qZA(),u.TgZ(41,"div",34),u._uU(42,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),u.qZA(),u.TgZ(43,"a",35),u._uU(44,"\u041d\u0430\u0437\u0430\u0434"),u.qZA()()()}if(2&e){const t=u.oxw();let n,o,l,c,a,p;u.Q6J("formGroup",t.formType),u.xp6(10),u.Q6J("ngIf",(null==(n=t.formType.get("name"))?null:n.touched)&&(null==(n=t.formType.get("name"))?null:n.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(o=t.formType.get("last_name"))?null:o.touched)&&(null==(o=t.formType.get("last_name"))?null:o.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(l=t.formType.get("phone"))?null:l.touched)&&(null==(l=t.formType.get("phone"))?null:l.invalid)),u.xp6(6),u.Q6J("ngIf",(null==(c=t.formType.get("country"))?null:c.touched)&&(null==(c=t.formType.get("country"))?null:c.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(a=t.formType.get("zip"))?null:a.touched)&&(null==(a=t.formType.get("zip"))?null:a.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(p=t.formType.get("address"))?null:p.touched)&&(null==(p=t.formType.get("address"))?null:p.invalid)),u.xp6(5),u.Q6J("ngStyle",u.VKq(9,_,t.displayError)),u.xp6(2),u.Q6J("routerLink","/products")}}const S=[{path:"",component:(()=>{class e{constructor(t,n,o,l){this.fb=t,this.activatedRoute=n,this.router=o,this.productService=l,this.displayError="none",this.displaySuccess="none",this.formVisible=!0,this.is_edit=!0,this.subscription=null,this.subscriptionOrder=null,this.formType=this.fb.group({product:[""],name:["",i.kI.required],last_name:["",i.kI.required],phone:["",[i.kI.required,i.kI.minLength(11)]],country:["",i.kI.required],zip:["",i.kI.required],address:["",i.kI.required],comment:""})}ngOnInit(){this.subscription=this.activatedRoute.queryParams.subscribe(t=>{t.product&&this.formType.get("product")?.setValue(t.product)})}createOrder(){this.subscriptionOrder=this.productService.createOrder(this.formType.value).subscribe({next:t=>{t.success&&!t.message?(this.displaySuccess="block",this.displayError="none",this.formVisible=!1,this.formType.reset()):(this.displayError="block",setTimeout(()=>{this.displayError="none"},3e3))},error:t=>{alert(t+"Error creating order"),this.router.navigate(["/"])}})}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscriptionOrder?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(i.qu),u.Y36(d.gz),u.Y36(d.F0),u.Y36(v.M))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-order"]],decls:12,vars:5,consts:[[1,"order-page"],[1,"container"],["class","text-center my-5","id","contact",4,"ngIf"],["id","orderForm",1,"col-lg-6","mx-auto","wow","animate__slideInRight"],["class","needs-validation","novalidate","",3,"formGroup",4,"ngIf"],["id","thanksBlock",1,"row","mx-auto","wow","animate__slideInRight","mt-4",3,"ngStyle"],[1,"text-center","mx-auto"],[1,"product-item"],["src","assets/img/cat-order-confirm.bddffcd7.svg","alt","image1",1,"rounded","img-fluid","mx-auto","d-block"],["id","contact",1,"text-center","my-5"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row","mb-4"],[1,"form-group","col-md-12","mb-4"],["for","product"],["type","text","formControlName","product","id","product","name","product","readonly","",1,"form-control"],[1,"form-group","col-md-4"],["for","firstName"],["type","text","id","firstName","formControlName","name","name","firstName","isString","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","last_name","id","lastName","name","lastName","isString","",1,"form-control"],["for","phone"],["type","tel","id","phone","name","phone","formControlName","phone","inputmode","numeric","maxlength","12","minlength","11","isNumber","",1,"form-control"],[1,"form-group","col-md-6"],["for","country"],["type","text","formControlName","country","id","country","name","country","isString","",1,"form-control"],["for","zipCode"],["type","text","formControlName","zip","maxlength","6","id","zipCode","name","zipCode",1,"form-control"],[1,"form-group","mb-4"],["for","address"],["type","text","formControlName","address","id","address","name","address","isAddress","",1,"form-control"],["id","message","formControlName","comment","name","message","rows","3","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443",1,"form-control","mb-4"],[1,"d-flex","justify-content-between","align-items-center","gap-3","mb-5"],["type","button","id","submitBtn",1,"btn","btn-primary","hvr-back-pulse",3,"click"],[1,"text-danger",3,"ngStyle"],[1,"",3,"routerLink"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,n){1&t&&(u.TgZ(0,"section",0)(1,"div",1),u.YNc(2,T,2,0,"h2",2),u.TgZ(3,"div",3),u.YNc(4,J,45,11,"form",4),u.qZA(),u.TgZ(5,"div",5)(6,"h3",6),u._uU(7,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.qZA(),u.TgZ(8,"h3",6),u._uU(9,"\u041c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f!"),u.qZA(),u.TgZ(10,"a",7),u._UZ(11,"img",8),u.qZA()()()()),2&t&&(u.xp6(2),u.Q6J("ngIf",n.formVisible),u.xp6(2),u.Q6J("ngIf",n.formVisible),u.xp6(1),u.Q6J("ngStyle",u.VKq(3,_,n.displaySuccess)))},dependencies:[m.O5,m.PC,d.yS,h,Z,y,i._Y,i.Fj,i.JJ,i.JL,i.wO,i.nD,i.sg,i.u]}),e})()}];let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[d.Bz.forChild(S),d.Bz]}),e})();var Y=s(4466);let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[m.ez,g,Y.m,d.Bz,i.u5,i.UX,g]}),e})()}}]);